<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator><link href="/atom.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2019-05-07T11:22:38+08:00</updated><id>/atom.xml</id><title type="html">Xoinstein</title><subtitle>ğŸ’</subtitle><author><name>xoinstein</name></author><entry><title type="html">Vagrantç¬”è®°</title><link href="/2019/05/07/vagrant/" rel="alternate" type="text/html" title="Vagrantç¬”è®°" /><published>2019-05-07T00:00:00+08:00</published><updated>2019-05-07T00:00:00+08:00</updated><id>/2019/05/07/vagrant</id><content type="html" xml:base="/2019/05/07/vagrant/">&lt;h2 id=&quot;vagrantå¸¸ç”¨å‘½ä»¤&quot;&gt;Vagrantå¸¸ç”¨å‘½ä»¤&lt;/h2&gt;

&lt;h3 id=&quot;box-add&quot;&gt;Box add&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command:  vagrant box add ADDRESS&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This adds a box with the given address to Vagrant. The address can be one of three things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A shorthand name from the &lt;a href=&quot;https://vagrantcloud.com/boxes/search&quot;&gt;public catalog of available Vagrant images&lt;/a&gt;, such as â€œhashicorp/precise64â€.&lt;/li&gt;
  &lt;li&gt;File path or HTTP URL to a box in a &lt;a href=&quot;https://vagrantcloud.com/boxes/search&quot;&gt;catalog&lt;/a&gt;. For HTTP, basic authentication is supported and &lt;code class=&quot;highlighter-rouge&quot;&gt;http_proxy&lt;/code&gt;environmental variables are respected. HTTPS is also supported.&lt;/li&gt;
  &lt;li&gt;URL directly a box file. In this case, you must specify a &lt;code class=&quot;highlighter-rouge&quot;&gt;--name&lt;/code&gt; flag (see below) and versioning/updates will not work.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If an error occurs during the download or the download is interrupted with a Ctrl-C, then Vagrant will attempt to resume the download the next time it is requested. Vagrant will only attempt to resume a download for 24 hours after the initial download.&lt;/p&gt;

&lt;h3 id=&quot;init&quot;&gt;Init&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant init [name [url]]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This initializes the current directory to be a Vagrant environment by creating an initial &lt;a href=&quot;https://www.vagrantup.com/docs/vagrantfile/&quot;&gt;Vagrantfile&lt;/a&gt; if one does not already exist.&lt;/p&gt;

&lt;p&gt;If a first argument is given, it will prepopulate the &lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.box&lt;/code&gt; setting in the created Vagrantfile.&lt;/p&gt;

&lt;p&gt;If a second argument is given, it will prepopulate the &lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.box_url&lt;/code&gt; setting in the created Vagrantfile.&lt;/p&gt;

&lt;h3 id=&quot;up&quot;&gt;Up&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant up [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command creates and configures guest machines according to your &lt;a href=&quot;https://www.vagrantup.com/docs/vagrantfile/&quot;&gt;Vagrantfile&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This is the single most important command in Vagrant, since it is how any Vagrant machine is created. Anyone using Vagrant must use this command on a day-to-day basis.&lt;/p&gt;

&lt;h3 id=&quot;ssh&quot;&gt;Ssh&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant ssh [name&lt;/td&gt;
      &lt;td&gt;id] [â€“ extra_ssh_args]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This will SSH into a running Vagrant machine and give you access to a shell.&lt;/p&gt;

&lt;p&gt;On a simple vagrant project, the instance created will be named default.&lt;/p&gt;

&lt;p&gt;Vagrant will ssh into this instance without the instance name.&lt;/p&gt;

&lt;h3 id=&quot;box-list&quot;&gt;Box list&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant box list&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This command lists all the boxes that are installed into Vagrant.&lt;/p&gt;

&lt;h3 id=&quot;box-remove&quot;&gt;Box remove&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant box remove NAME&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This command removes a box from Vagrant that matches the given name.&lt;/p&gt;

&lt;p&gt;If a box has multiple providers, the exact provider must be specified with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provider&lt;/code&gt; flag. If a box has multiple versions, you can select what versions to delete with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--box-version&lt;/code&gt; flag or remove all versions with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--all&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;destroy&quot;&gt;Destroy&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant destroy [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command stops the running machine Vagrant is managing and destroys all resources that were created during the machine creation process. After running this command, your computer should be left at a clean state, as if you never created the guest machine in the first place.&lt;/p&gt;

&lt;p&gt;For linux-based guests, Vagrant uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command to gracefully terminate the machine. Due to the varying nature of operating systems, the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command may exist at many different locations in the guestâ€™s &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;. It is the guest machineâ€™s responsibility to properly populate the &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; with directory containing the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command.&lt;/p&gt;

&lt;h3 id=&quot;halt&quot;&gt;Halt&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant halt [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command shuts down the running machine Vagrant is managing.&lt;/p&gt;

&lt;p&gt;Vagrant will first attempt to gracefully shut down the machine by running the guest OS shutdown mechanism. If this fails, or if the &lt;code class=&quot;highlighter-rouge&quot;&gt;--force&lt;/code&gt; flag is specified, Vagrant will effectively just shut off power to the machine.&lt;/p&gt;

&lt;p&gt;For linux-based guests, Vagrant uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command to gracefully terminate the machine. Due to the varying nature of operating systems, the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command may exist at many different locations in the guestâ€™s &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;. It is the guest machineâ€™s responsibility to properly populate the &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; with directory containing the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command.&lt;/p&gt;

&lt;h3 id=&quot;package&quot;&gt;Package&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant package [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This packages a currently running &lt;em&gt;VirtualBox&lt;/em&gt; or &lt;em&gt;Hyper-V&lt;/em&gt; environment into a re-usable &lt;a href=&quot;https://www.vagrantup.com/docs/boxes.html&quot;&gt;box&lt;/a&gt;. This command can only be used with other &lt;a href=&quot;https://www.vagrantup.com/docs/providers/&quot;&gt;providers&lt;/a&gt; based on the provider implementation and if the provider supports it.&lt;/p&gt;

&lt;h3 id=&quot;plugin&quot;&gt;Plugin&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant plugin&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This is the command used to manage &lt;a href=&quot;https://www.vagrantup.com/docs/plugins/&quot;&gt;plugins&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The main functionality of this command is exposed via another level of subcommands:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-expunge&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;expunge&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-install&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;install&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-license&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;license&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-list&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-repair&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;repair&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-uninstall&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;uninstall&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-update&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;provision&quot;&gt;Provision&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant provision [vm-name]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Runs any configured &lt;a href=&quot;https://www.vagrantup.com/docs/provisioning/&quot;&gt;provisioners&lt;/a&gt; against the running Vagrant managed machine.&lt;/p&gt;

&lt;p&gt;This command is a great way to quickly test any provisioners, and is especially useful for incremental development of shell scripts, Chef cookbooks, or Puppet modules. You can just make simple modifications to the provisioning scripts on your machine, run a &lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant provision&lt;/code&gt;, and check for the desired results. Rinse and repeat.&lt;/p&gt;

&lt;h3 id=&quot;reload&quot;&gt;Reload&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant reload [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The equivalent of running a &lt;a href=&quot;https://www.vagrantup.com/docs/cli/halt.html&quot;&gt;halt&lt;/a&gt; followed by an &lt;a href=&quot;https://www.vagrantup.com/docs/cli/up.html&quot;&gt;up&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This command is usually required for changes made in the Vagrantfile to take effect. After making any modifications to the Vagrantfile, a &lt;code class=&quot;highlighter-rouge&quot;&gt;reload&lt;/code&gt; should be called.&lt;/p&gt;

&lt;p&gt;The configured provisioners will not run again, by default. You can force the provisioners to re-run by specifying the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provision&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;resume&quot;&gt;Resume&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant resume [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This resumes a Vagrant managed machine that was previously suspended, perhaps with the &lt;a href=&quot;https://www.vagrantup.com/docs/cli/suspend.html&quot;&gt;suspend command&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The configured provisioners will not run again, by default. You can force the provisioners to re-run by specifying the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provision&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;status&quot;&gt;Status&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant status [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This will tell you the state of the machines Vagrant is managing.&lt;/p&gt;

&lt;p&gt;It is quite easy, especially once you get comfortable with Vagrant, to forget whether your Vagrant machine is running, suspended, not created, etc. This command tells you the state of the underlying guest machine.&lt;/p&gt;

&lt;h3 id=&quot;suspend&quot;&gt;Suspend&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant suspend [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This suspends the guest machine Vagrant is managing, rather than fully &lt;a href=&quot;https://www.vagrantup.com/docs/cli/halt.html&quot;&gt;shutting it down&lt;/a&gt; or &lt;a href=&quot;https://www.vagrantup.com/docs/cli/destroy.html&quot;&gt;destroying it&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A suspend effectively saves the &lt;em&gt;exact point-in-time state&lt;/em&gt; of the machine, so that when you &lt;a href=&quot;https://www.vagrantup.com/docs/cli/resume.html&quot;&gt;resume&lt;/a&gt; it later, it begins running immediately from that point, rather than doing a full boot.&lt;/p&gt;

&lt;p&gt;This generally requires extra disk space to store all the contents of the RAM within your guest machine, but the machine no longer consumes the RAM of your host machine or CPU cycles while it is suspended.&lt;/p&gt;

&lt;h2 id=&quot;vagrantfileé…ç½®æ–‡ä»¶è¯¦è§£&quot;&gt;Vagrantfileé…ç½®æ–‡ä»¶è¯¦è§£&lt;/h2&gt;

&lt;p&gt;åœ¨æˆ‘ä»¬çš„å¼€å‘ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶&lt;code class=&quot;highlighter-rouge&quot;&gt;Vagrantfile&lt;/code&gt;ï¼Œé‡Œé¢åŒ…å«æœ‰å¤§é‡çš„é…ç½®ä¿¡æ¯ï¼Œä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢çš„é…ç½®ï¼Œè™šæ‹Ÿæœºçš„é…ç½®ã€SSHé…ç½®ã€Vagrantçš„ä¸€äº›åŸºç¡€é…ç½®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;boxè®¾ç½®&quot;&gt;boxè®¾ç½®&lt;/h3&gt;

&lt;p&gt;config.vm.box = â€œbaseâ€&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è¿™é…ç½®å±•ç¤ºäº†Vagrantè¦å»å¯ç”¨é‚£ä¸ªboxä½œä¸ºç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æˆ‘ä»¬è¾“å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant init Boxåç§°&lt;/code&gt;æ—¶æ‰€æŒ‡å®šçš„boxï¼Œå¦‚æœæ²’æœ‰è¾“å…¥boxåç§°çš„è©±ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;base&lt;/code&gt;ï¼ŒVirtualBoxæä¾›äº†VBoxManageè¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥è®©æˆ‘ä»¬è®¾å®šVMï¼Œç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;modifyvm&lt;/code&gt;è¿™ä¸ªå‘½ä»¤è®©æˆ‘ä»¬å¯ä»¥è®¾å®šVMçš„åç§°å’Œå†…å­˜å¤§å°ç­‰ç­‰ï¼Œè¿™é‡Œè¯´çš„åç§°æŒ‡çš„æ˜¯åœ¨VirtualBoxä¸­æ˜¾ç¤ºçš„åç§°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨Vagrantfileä¸­è¿›è¡Œè®¾å®šï¼Œåœ¨Vagrantfileä¸­åŠ å…¥å¦‚ä¸‹è¿™è¡Œå°±å¯ä»¥è®¾å®šäº†ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.provider &quot;virtualbox&quot; do |v|
  v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;astaxie&quot;, &quot;--memory&quot;, &quot;512&quot;]
end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™è¡Œè®¾ç½®çš„æ„æ€æ˜¯è°ƒç”¨VBoxManageçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;modifyvm&lt;/code&gt;çš„å‘½ä»¤ï¼Œè®¾ç½®VMçš„åç§°ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;astaxie&lt;/code&gt;ï¼Œå†…å­˜ä¸º512MBã€‚ä½ å¯ä»¥ç±»ä¼¼çš„é€šè¿‡å®šåˆ¶å…¶å®ƒVMå±æ€§æ¥å®šåˆ¶ä½ è‡ªå·±çš„VMã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç½‘ç»œè®¾ç½®&quot;&gt;ç½‘ç»œè®¾ç½®&lt;/h3&gt;

&lt;p&gt;Vagrantæœ‰ä¸¤ç§æ–¹å¼æ¥è¿›è¡Œç½‘ç»œè¿æ¥ï¼Œä¸€ç§æ˜¯host-only(ä¸»æœºæ¨¡å¼)ï¼Œæ„æ€æ˜¯ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´çš„ç½‘ç»œäº’è®¿ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿæœºè®¿é—®internetçš„æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä½ ä¸€å€‹äººè‡ªHighï¼Œå…¶ä»–äººè®¿é—®ä¸åˆ°ä½ çš„è™šæ‹Ÿæœºã€‚å¦ä¸€ç§æ˜¯Bridge(æ¡¥æ¥æ¨¡å¼)ï¼Œè¯¥æ¨¡å¼ä¸‹çš„VMå°±åƒæ˜¯å±€åŸŸç½‘ä¸­çš„ä¸€å°ç‹¬ç«‹çš„ä¸»æœºï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦VMåˆ°ä½ çš„è·¯ç”±å™¨è¦IPï¼Œè¿™æ ·çš„è¯å±€åŸŸç½‘é‡Œé¢å…¶ä»–æœºå™¨å°±å¯ä»¥è®¿é—®å®ƒäº†ï¼Œä¸€èˆ¬æˆ‘ä»¬è®¾ç½®è™šæ‹Ÿæœºéƒ½æ˜¯è‡ªhighä¸ºä¸»ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è®¾ç½®ä¸€èˆ¬å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.network :private_network, ip: &quot;11.11.11.11&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæˆ‘ä»¬è™šæ‹Ÿæœºè®¾ç½®ä¸ºhostonlyï¼Œå¹¶ä¸”æŒ‡å®šäº†ä¸€ä¸ªIPï¼ŒIPçš„è¯å»ºè®®æœ€å¥½ä¸è¦ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;192.168..&lt;/code&gt;è¿™ä¸ªç½‘æ®µï¼Œå› ä¸ºå¾ˆæœ‰å¯èƒ½å’Œä½ å±€åŸŸç½‘é‡Œé¢çš„å…¶å®ƒæœºå™¨IPå†²çªï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨ç±»ä¼¼&lt;code class=&quot;highlighter-rouge&quot;&gt;11.11..&lt;/code&gt;è¿™æ ·çš„IPåœ°å€ã€‚&lt;/p&gt;

&lt;h3 id=&quot;hostnameè®¾ç½®&quot;&gt;hostnameè®¾ç½®&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;çš„è®¾ç½®éå¸¸ç®€å•ï¼ŒVagrantfileä¸­åŠ å…¥ä¸‹é¢è¿™è¡Œå°±å¯ä»¥äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.hostname = &quot;go-app&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è®¾ç½®&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;éå¸¸é‡è¦ï¼Œå› ä¸ºå½“æˆ‘ä»¬æœ‰å¾ˆå¤šå°è™šæ‹ŸæœåŠ¡å™¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä¾é &lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;ä¾†åšè¯†åˆ«çš„ï¼Œä¾‹å¦‚Puppetæˆ–æ˜¯Chefï¼Œéƒ½æ˜¯é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;ä¾†åšè¯†åˆ«çš„ï¼Œæ—¢ç„¶è®¾ç½®é‚£ä¹ˆç®€å•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±åˆ¥å·æ‡’ï¼Œè®¾ç½®ä¸€ä¸ªã€‚&lt;/p&gt;

&lt;h3 id=&quot;åŒæ­¥ç›®å½•&quot;&gt;åŒæ­¥ç›®å½•&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬ä¸Šé¢ä»‹ç»è¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;/vagrant&lt;/code&gt;ç›®å½•é»˜è®¤å°±æ˜¯å½“å‰çš„å¼€å‘ç›®å½•ï¼Œè¿™æ˜¯åœ¨è™šæ‹Ÿæœºå¼€å¯çš„æ—¶å€™é»˜è®¤æŒ‚è½½åŒæ­¥çš„ã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡é…ç½®æ¥è®¾ç½®é¢å¤–çš„åŒæ­¥ç›®å½•ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.synced_folder  &quot;/Users/astaxie/data&quot;, &quot;/vagrant_data&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢è¿™ä¸ªè®¾å®šï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸»æœºçš„ç›®å½•ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è™šæ‹ŸæœºæŒ‚è½½çš„ç›®å½•&lt;/p&gt;

&lt;h3 id=&quot;ç«¯å£è½¬å‘&quot;&gt;ç«¯å£è½¬å‘&lt;/h3&gt;

&lt;p&gt;config.vm.network :forwarded_port, guest: 80, host: 8080&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è¿™å¥é…ç½®å¯å‰å®³äº†ï¼Œè¿™ä¸€è¡Œçš„æ„æ€æ˜¯æŠŠå¯¹hostæœºå™¨ä¸Š8080ç«¯å£çš„è®¿é—®è¯·æ±‚forwardåˆ°è™šæ‹Ÿæœºçš„80ç«¯å£çš„æœåŠ¡ä¸Šï¼Œä¾‹å¦‚ä½ åœ¨ä½ çš„è™šæ‹Ÿæœºä¸Šä½¿ç”¨nginxè·‘äº†ä¸€ä¸ªGoåº”ç”¨ï¼Œé‚£ä¹ˆä½ åœ¨hostæœºå™¨ä¸Šçš„æµè§ˆå™¨ä¸­æ‰“å¼€&lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:8080&lt;/code&gt;æ—¶ï¼ŒVagrantå°±ä¼šæŠŠè¿™ä¸ªè¯·æ±‚è½¬å‘åˆ°VMé‡Œé¢è·‘åœ¨80ç«¯å£çš„nginxæœåŠ¡ä¸Šï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªè®¾ç½®æ¥å¸®åŠ©æˆ‘ä»¬å»è®¾å®šhostå’ŒVMä¹‹é—´ï¼Œæˆ–æ˜¯VMå’ŒVMä¹‹é—´çš„ä¿¡æ¯äº¤äº’ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä¿®æ”¹å®ŒVagrantfileçš„é…ç½®åï¼Œè®°å¾—è¦ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant reload&lt;/code&gt;å‘½ä»¤æ¥é‡å¯VMä¹‹åæ‰èƒ½ä½¿ç”¨VMæ›´æ–°åçš„é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;æ¨¡æ‹Ÿæ‰“é€ å¤šæœºå™¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿ&quot;&gt;æ¨¡æ‹Ÿæ‰“é€ å¤šæœºå™¨çš„åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;å¤šæœºå™¨åˆ†å¸ƒå¼é›†ç¾¤ç³»ç»Ÿæ¨¡å¼ç‰¹åˆ«é€‚åˆä»¥ä¸‹å‡ ç§äººï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å¿«é€Ÿå»ºç«‹äº§å“ç½‘ç»œçš„å¤šæœºå™¨ç¯å¢ƒï¼Œä¾‹å¦‚webæœåŠ¡å™¨ã€dbæœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;å»ºç«‹ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå­¦ä¹ ä»–ä»¬æ˜¯å¦‚ä½•äº¤äº’çš„&lt;/li&gt;
  &lt;li&gt;æµ‹è¯•APIå’Œå…¶ä»–ç»„ä»¶çš„é€šä¿¡&lt;/li&gt;
  &lt;li&gt;å®¹ç¾æ¨¡æ‹Ÿï¼Œç½‘ç»œæ–­ç½‘ã€æœºå™¨æ­»æœºã€è¿æ¥è¶…æ—¶ç­‰æƒ…å†µ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Vagrantæ”¯æŒå•æœºæ¨¡æ‹Ÿå¤šå°æœºå™¨ï¼Œè€Œä¸”æ”¯æŒä¸€ä¸ªé…ç½®æ–‡ä»¶Vagrntfileå°±å¯ä»¥è·‘åˆ†å¸ƒå¼ç³»ç»Ÿã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬æ¥å»ºç«‹å¤šå°VMè·‘èµ·ä¾†ï¼Œä¸¦ä¸”è®©ä»–ä»¬ä¹‹é—´èƒ½å¤Ÿç›¸é€šä¿¡ï¼Œå‡è®¾ä¸€å°æ˜¯åº”ç”¨æœåŠ¡å™¨ã€ä¸€å°æ˜¯DBæœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¿™ä¸ªç»“æ„åœ¨Vagrantä¸­éå¸¸ç®€å•ï¼Œå…¶å®å’Œå•å°çš„é…ç½®å·®ä¸å¤šï¼Œä½ åªéœ€è¦é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.define&lt;/code&gt;æ¥å®šä¹‰ä¸åŒçš„è§’è‰²å°±å¯ä»¥äº†ï¼Œç°åœ¨æˆ‘ä»¬æ‰“å¼€é…ç½®æ–‡ä»¶è¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.define :web do |web|
    web.vm.provider &quot;virtualbox&quot; do |v|
          v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;web&quot;, &quot;--memory&quot;, &quot;512&quot;]
    end
    web.vm.box = &quot;base&quot;
    web.vm.hostname = &quot;web&quot;
    web.vm.network :private_network, ip: &quot;11.11.1.1&quot;
  end

  config.vm.define :db do |db|
    db.vm.provider &quot;virtualbox&quot; do |v|
          v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;db&quot;, &quot;--memory&quot;, &quot;512&quot;]
    end
    db.vm.box = &quot;base&quot;
    db.vm.hostname = &quot;db&quot;
    db.vm.network :private_network, ip: &quot;11.11.1.2&quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„è®¾ç½®å’Œå‰é¢æˆ‘ä»¬å•æœºè®¾ç½®é…ç½®ç±»ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬ä½¿ç”¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;:web&lt;/code&gt;ä»¥åŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;:db&lt;/code&gt;åˆ†åˆ¥åšäº†ä¸¤ä¸ªVMçš„è®¾ç½®ï¼Œå¹¶ä¸”ç»™æ¯ä¸ªVMè®¾ç½®äº†ä¸åŒçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;å’ŒIPï¼Œè®¾ç½®å¥½ä¹‹åå†ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant up&lt;/code&gt;å°†è™šæ‹Ÿæœºè·‘èµ·æ¥ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant up
Bringing machine 'web' up with 'virtualbox' provider...
Bringing machine 'db' up with 'virtualbox' provider...
[web] Setting the name of the VM...
[web] Clearing any previously set forwarded ports...
[web] Creating shared folders metadata...
[web] Clearing any previously set network interfaces...
[web] Preparing network interfaces based on configuration...
[web] Forwarding ports...
[web] -- 22 =&amp;gt; 2222 (adapter 1)
[web] Running any VM customizations...
[web] Booting VM...
[web] Waiting for VM to boot. This can take a few minutes.
[web] VM booted and ready for use!
[web] Setting hostname...
[web] Configuring and enabling network interfaces...
[web] Mounting shared folders...
[web] -- /vagrant
[db] Setting the name of the VM...
[db] Clearing any previously set forwarded ports...
[db] Fixed port collision for 22 =&amp;gt; 2222. Now on port 2200.
[db] Creating shared folders metadata...
[db] Clearing any previously set network interfaces...
[db] Preparing network interfaces based on configuration...
[db] Forwarding ports...
[db] -- 22 =&amp;gt; 2200 (adapter 1)
[db] Running any VM customizations...
[db] Booting VM...
[db] Waiting for VM to boot. This can take a few minutes.
[db] VM booted and ready for use!
[db] Setting hostname...
[db] Configuring and enabling network interfaces...
[db] Mounting shared folders...
[db] -- /vagrant
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹åˆ°ä¸Šé¢çš„ä¿¡æ¯è¾“å‡ºåï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant ssh&lt;/code&gt;ç™»å½•è™šæ‹Ÿæœºäº†ï¼Œä½†æ˜¯è¿™æ¬¡å’Œä¸Šæ¬¡ä½¿ç”¨çš„ä¸ä¸€æ ·äº†ï¼Œè¿™æ¬¡æˆ‘ä»¬éœ€è¦æŒ‡å®šç›¸åº”çš„è§’è‰²ï¼Œç”¨æ¥å‘Šè¯‰sshä½ æœŸæœ›è¿æ¥çš„æ˜¯å“ªä¸€å°ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant ssh web
vagrant@web:~$

$ vagrant ssh db
vagrant@db:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆé…·ï¼ç°åœ¨æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥éªŒè¯ä¸€ä¸‹è™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡ï¼Œè®©æˆ‘ä»¬å…ˆä½¿ç”¨sshç™»å½•webè™šæ‹Ÿæœºï¼Œç„¶ååœ¨webè™šæ‹Ÿæœºä¸Šä½¿ç”¨sshç™»å½•dbè™šæ‹Ÿæœº(é»˜è®¤å¯†ç æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant&lt;/code&gt;)ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant ssh web
Linux web 2.6.32-38-server #83-Ubuntu SMP Wed Jan 4 11:26:59 UTC 2012 x86_64 GNU/Linux
Ubuntu 10.04.4 LTS

Welcome to the Ubuntu Server!
 * Documentation:  http://www.ubuntu.com/server/doc
New release 'precise' available.
Run 'do-release-upgrade' to upgrade to it.

Welcome to your Vagrant-built virtual machine.
Last login: Thu Aug  8 18:55:44 2013 from 10.0.2.2
vagrant@web:~$ ssh 11.11.1.2
The authenticity of host '11.11.1.2 (11.11.1.2)' can't be established.
RSA key fingerprint is e7:8f:07:57:69:08:6e:fa:82:bc:1c:f6:53:3f:12:9e.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '11.11.1.2' (RSA) to the list of known hosts.
vagrant@11.11.1.2's password:
Linux db 2.6.32-38-server #83-Ubuntu SMP Wed Jan 4 11:26:59 UTC 2012 x86_64 GNU/Linux
Ubuntu 10.04.4 LTS

Welcome to the Ubuntu Server!
 * Documentation:  http://www.ubuntu.com/server/doc
New release 'precise' available.
Run 'do-release-upgrade' to upgrade to it.

Welcome to your Vagrant-built virtual machine.
Last login: Thu Aug  8 18:58:50 2013 from 10.0.2.2
vagrant@db:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;å‚è€ƒ&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.2.md&quot;&gt;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.2.md&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.3.md&quot;&gt;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.3.md&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">PHPä¸­tempnamå‡½æ•°dirå‚æ•°ä¸å¯è®¿é—®å´å–ç³»ç»Ÿtmpç›®å½•</title><link href="/2018/05/07/tempnam/" rel="alternate" type="text/html" title="PHPä¸­tempnamå‡½æ•°dirå‚æ•°ä¸å¯è®¿é—®å´å–ç³»ç»Ÿtmpç›®å½•" /><published>2018-05-07T00:00:00+08:00</published><updated>2018-05-07T00:00:00+08:00</updated><id>/2018/05/07/tempnam</id><content type="html" xml:base="/2018/05/07/tempnam/">&lt;p&gt;é¡¹ç›®ä¸­éœ€è¦å°†LaTexå…¬å¼è½¬ä¸ºå›¾ç‰‡ä¼ ç»™å‰ç«¯,å®ç°æ–¹å¼æ˜¯åˆ©ç”¨execåˆ†åˆ«è°ƒç”¨ç³»ç»Ÿçš„latex/dvips/convertå‘½ä»¤,æœ€ç»ˆç”Ÿæˆpngæ–‡ä»¶.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-PHP&quot;&gt;...

error_reporting(0); # not checking existence myself, that would be double.
if (chdir(&quot;tmp&quot;)===FALSE) { return '[directory access error, fix permissions]'; } #I should chech whether file creation is allowed to give a nice error for that problem case
error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); # TODO: set old value

$tfn = tempnam(getcwd(), 'PTX'); #file in tmp dir

#write temporary .tex file
if ( ($tex = fopen($tfn.'.tex', &quot;w&quot;))==FALSE) {
    return '[file access error] '.phplatex_cleantmp($tfn,$heredir);
}
fwrite($tex, $totex); 
fclose($tex);

# Run latex to create a .dvi.  Have it try to fix minor errors instead of breaking/pausing on them.
exec($path_to_latex.' --interaction=nonstopmode '.$tfn.'.tex');
if (!file_exists($tfn.&quot;.dvi&quot;)) {
    $log = file_get_contents($tfn.'.log'); #The log always exists, but now it's actually interesting since it'll contain an error
    return '[latex error, code follows]&amp;lt;pre&amp;gt;'.$totex.'&amp;lt;/pre&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;Log file:&amp;lt;/b&amp;gt;&amp;lt;pre&amp;gt;'.$log.'&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt; '.phplatex_cleantmp($tfn,$heredir);
}

...

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸæ¬¡å‡ºé—®é¢˜,æŠ¥é”™ä¸€ç›´éƒ½æ˜¯â€™[latex error, code followsâ€¦]â€™,å³æ‰§è¡Œå®Œlatexå‘½ä»¤è½¬æ¢texçš„ä»£ç åæ£€æŸ¥dviæ–‡ä»¶æ˜¯å¦å­˜åœ¨,æ‰“å°å‡ºexecæ‰§è¡Œçš„ä»£ç ,â€™/usr/bin/latex â€“interaction=nonstopmode /tmp/PTXBmQJee.texâ€™,ä¸Šæ–‡æœ‰ chdir(â€œtmpâ€) å·²ç»åˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹çš„tmpç›®å½•,è€Œæ­¤texå´åœ¨/tmpä¸‹,æ‰“å°å‘ç°getcwd()ç¡®å®æ˜¯å½“å‰ç›®å½•çš„tmp,WTF,æœäº†ä¸‹tempnam:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;tempnam&lt;/p&gt;

  &lt;p&gt;Description
    string tempnam ( string $dir , string $prefix )&lt;/p&gt;

  &lt;p&gt;Creates a file with a unique filename, with access permission set to 0600, in the specified directory. If the directory does not exist or is not writable, tempnam() may generate a file in the systemâ€™s temporary directory, and return the full path to that file, including its name.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;dirä¸å­˜åœ¨æˆ–è€…ä¸å¯å†™çš„æ—¶å€™ä¼šå–ç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•,è€Œå‰é¢çš„chdirçš„åˆ¤æ–­å¹¶æ²¡æœ‰ç¡®ä¿tmpå¯å†™.ç»™tmpåŠ å†™æƒé™å³è§£å†³é—®é¢˜.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">æ‹Ÿé…å°å¼ç”µè„‘é…ç½®è®°å½•</title><link href="/2018/04/27/computer/" rel="alternate" type="text/html" title="æ‹Ÿé…å°å¼ç”µè„‘é…ç½®è®°å½•" /><published>2018-04-27T00:00:00+08:00</published><updated>2018-04-27T00:00:00+08:00</updated><id>/2018/04/27/computer</id><content type="html" xml:base="/2018/04/27/computer/">&lt;h2 id=&quot;ä¸»æ¿&quot;&gt;ä¸»æ¿&lt;/h2&gt;
&lt;p&gt;åæ“ B360M Pro4  &lt;!-- Â¥649 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;cpu&quot;&gt;CPU&lt;/h2&gt;
&lt;p&gt;i5 8400  &lt;!-- Â¥1024 --&gt;&lt;br /&gt;
CPUé£æ‰‡ å½©èB81  &lt;!-- Â¥209 --&gt;&lt;br /&gt;
å¯¼çƒ­ç¡…è„‚  ARCTIC  &lt;!-- Â¥29.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;å†…å­˜&quot;&gt;å†…å­˜&lt;/h2&gt;
&lt;p&gt;è‹±ç¿è¾¾ 8G  &lt;!-- Â¥579 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ˜¾å¡&quot;&gt;æ˜¾å¡&lt;/h2&gt;
&lt;p&gt;è“å®çŸ³ RX580  &lt;!-- Â¥2499 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç¡¬ç›˜&quot;&gt;ç¡¬ç›˜&lt;/h2&gt;
&lt;p&gt;ä¸œèŠ å›ºæ€ 240G  &lt;!-- Â¥499(åŸæœ‰ -Â¥499) --&gt;&lt;br /&gt;
    æœºæ¢° 4TB  &lt;!-- Â¥699 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç”µæº&quot;&gt;ç”µæº&lt;/h2&gt;
&lt;p&gt;è®¯æ™¯ XTR550  &lt;!-- Â¥579(äºŒæ‰‹ -Â¥290) --&gt;&lt;br /&gt;
&lt;!-- ç”µæºçº¿ Â¥18.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æœºç®±&quot;&gt;æœºç®±&lt;/h2&gt;
&lt;p&gt;ä¹”æ€ä¼¯ U4  &lt;!-- Â¥299 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ˜¾ç¤ºå™¨&quot;&gt;æ˜¾ç¤ºå™¨&lt;/h2&gt;
&lt;p&gt;DELL P2718Q  &lt;!-- Â¥3999 --&gt;&lt;/p&gt;

&lt;!-- æ€»è®¡ Â¥11084 - Â¥789 = Â¥ 10295 --&gt;

&lt;h2 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h2&gt;
&lt;p&gt;è·¯ç”±å™¨ åç¡•RT-AC1200  &lt;!-- Â¥199 --&gt;&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">LNMPç¯å¢ƒæ­å»º(Ubuntu16.04.3+nginx+mysql5.7+php7.2)</title><link href="/2018/02/20/lnmp/" rel="alternate" type="text/html" title="LNMPç¯å¢ƒæ­å»º(Ubuntu16.04.3+nginx+mysql5.7+php7.2)" /><published>2018-02-20T00:00:00+08:00</published><updated>2018-02-20T00:00:00+08:00</updated><id>/2018/02/20/lnmp</id><content type="html" xml:base="/2018/02/20/lnmp/">&lt;h2 id=&quot;å®‰è£…&quot;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;1.æ›´æ–°&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2.å®‰è£…nginx&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3.å®‰è£…mysql5.7&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; mysql-server-5.7 mysql-client-5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4.å®‰è£…php7
aptç›´æ¥å®‰è£…ä¼šæŠ¥é”™ï¼Œéœ€æ·»åŠ ä»“åº“&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; software-properties-common
add-apt-repository ppa:ondrej/php

apt-get update
apt-cache search php7.2
apt-get install php7.2 php7.2-fpm ... php7.2-xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;é…ç½®&quot;&gt;é…ç½®&lt;/h2&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“é‡åˆ°çš„æƒé™é—®é¢˜</title><link href="/2017/12/11/mysql-trigger-privilege/" rel="alternate" type="text/html" title="æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“é‡åˆ°çš„æƒé™é—®é¢˜" /><published>2017-12-11T00:00:00+08:00</published><updated>2017-12-11T00:00:00+08:00</updated><id>/2017/12/11/mysql-trigger-privilege</id><content type="html" xml:base="/2017/12/11/mysql-trigger-privilege/">&lt;p&gt;æ¢å¤è¿‡ç¨‹å‚è€ƒé˜¿é‡Œçš„çš„è¿™ç¯‡å¸®åŠ©æ–‡æ¡£ â€œ&lt;a href=&quot;https://help.aliyun.com/knowledge_detail/41817.html&quot;&gt;æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“&lt;/a&gt;â€&lt;/p&gt;

&lt;p&gt;åæ¥ä½¿ç”¨æ­¤è‡ªå»ºæ•°æ®åº“è¿‡ç¨‹ä¸­é‡åˆ°æŸå‡ å¼ è¡¨éƒ½å‡ºç°å¦‚ä¸‹æŠ¥é”™&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-mysql&quot;&gt;The user specified as a definer ('user_xxx'@'') does not exist
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è€Œæ­¤useræ ¹æœ¬ä¸åœ¨è‡ªå»ºæ•°æ®åº“ä¸­ï¼Œåˆ Useré‡æ–°grantä¹Ÿæ— æœï¼ŒGoogleå‘ç°ç±»ä¼¼æƒ…å†µçš„æ˜¯è§†å›¾çš„æƒé™é—®é¢˜ï¼Œç„¶åå‘ç°å‡ å¼ è¡¨å…±åŒç‚¹éƒ½æ˜¯æœ‰triggerï¼ŒæŸ¥triggerçš„definerå°±æ˜¯æ­¤userï¼Œé‡å»ºtriggerè§£å†³.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">Macä¸‹brewå®‰è£…MySQLåä¸çŸ¥é“å¯†ç ï¼Œæ— æ³•ç™»é™†</title><link href="/2017/09/07/mac-mysql-pwd/" rel="alternate" type="text/html" title="Macä¸‹brewå®‰è£…MySQLåä¸çŸ¥é“å¯†ç ï¼Œæ— æ³•ç™»é™†" /><published>2017-09-07T00:00:00+08:00</published><updated>2017-09-07T00:00:00+08:00</updated><id>/2017/09/07/mac-mysql-pwd</id><content type="html" xml:base="/2017/09/07/mac-mysql-pwd/">&lt;ul&gt;
  &lt;li&gt;å…³é—­MysqlæœåŠ¡
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services stop mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;å¼€å¯æœåŠ¡(è·³è¿‡éªŒè¯)
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ mysqld_safe --skip-grant-tables
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;æ— å¯†ç ç™»å½•
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-uroot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è®¾ç½®å¯†ç &lt;/p&gt;

    &lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PASSWORD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'112358'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'root'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;FLUSH&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;å¼€å¯MySQLæœåŠ¡ï¼Œå³å¯ç”¨æ–°å¯†ç ç™»å½•
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services start mysql
  $ mysql -uroot -p112358
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">sshå…å¯†ç™»å½•</title><link href="/2017/08/24/ssh-by-key/" rel="alternate" type="text/html" title="sshå…å¯†ç™»å½•" /><published>2017-08-24T00:00:00+08:00</published><updated>2017-08-24T00:00:00+08:00</updated><id>/2017/08/24/ssh-by-key</id><content type="html" xml:base="/2017/08/24/ssh-by-key/">&lt;p&gt;1) mkdir -p ~/.ssh/ecs&lt;/p&gt;

&lt;p&gt;2) ssh-keygen -t rsa -b 4096 -C â€œxoinstein.comâ€ -f ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;3) ssh-copy-id -i ~/.ssh/ecs/xoinstein.com -p 22 root@xoinstein.com&lt;/p&gt;

&lt;p&gt;4) ssh-add -K ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;5) vi ~/.ssh/config æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Host xoinstein.com

    AddKeysToAgent yes

    UseKeychain yes

    IdentityFile ~/.ssh/ecs/xoinstein.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;6) alias ssh-xo=â€™ssh -p 22 root@xoinstein.comâ€™ æ·»åŠ åˆ°~/.bashrc æˆ– ~/.profile&lt;/p&gt;

&lt;p&gt;7) ssh-xoç™»é™†æœåŠ¡å™¨&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry></feed>