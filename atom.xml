<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator><link href="/atom.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2019-05-07T11:22:38+08:00</updated><id>/atom.xml</id><title type="html">Xoinstein</title><subtitle>üêí</subtitle><author><name>xoinstein</name></author><entry><title type="html">VagrantÁ¨îËÆ∞</title><link href="/2019/05/07/vagrant/" rel="alternate" type="text/html" title="VagrantÁ¨îËÆ∞" /><published>2019-05-07T00:00:00+08:00</published><updated>2019-05-07T00:00:00+08:00</updated><id>/2019/05/07/vagrant</id><content type="html" xml:base="/2019/05/07/vagrant/">&lt;h2 id=&quot;vagrantÂ∏∏Áî®ÂëΩ‰ª§&quot;&gt;VagrantÂ∏∏Áî®ÂëΩ‰ª§&lt;/h2&gt;

&lt;h3 id=&quot;box-add&quot;&gt;Box add&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command:  vagrant box add ADDRESS&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This adds a box with the given address to Vagrant. The address can be one of three things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A shorthand name from the &lt;a href=&quot;https://vagrantcloud.com/boxes/search&quot;&gt;public catalog of available Vagrant images&lt;/a&gt;, such as ‚Äúhashicorp/precise64‚Äù.&lt;/li&gt;
  &lt;li&gt;File path or HTTP URL to a box in a &lt;a href=&quot;https://vagrantcloud.com/boxes/search&quot;&gt;catalog&lt;/a&gt;. For HTTP, basic authentication is supported and &lt;code class=&quot;highlighter-rouge&quot;&gt;http_proxy&lt;/code&gt;environmental variables are respected. HTTPS is also supported.&lt;/li&gt;
  &lt;li&gt;URL directly a box file. In this case, you must specify a &lt;code class=&quot;highlighter-rouge&quot;&gt;--name&lt;/code&gt; flag (see below) and versioning/updates will not work.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If an error occurs during the download or the download is interrupted with a Ctrl-C, then Vagrant will attempt to resume the download the next time it is requested. Vagrant will only attempt to resume a download for 24 hours after the initial download.&lt;/p&gt;

&lt;h3 id=&quot;init&quot;&gt;Init&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant init [name [url]]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This initializes the current directory to be a Vagrant environment by creating an initial &lt;a href=&quot;https://www.vagrantup.com/docs/vagrantfile/&quot;&gt;Vagrantfile&lt;/a&gt; if one does not already exist.&lt;/p&gt;

&lt;p&gt;If a first argument is given, it will prepopulate the &lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.box&lt;/code&gt; setting in the created Vagrantfile.&lt;/p&gt;

&lt;p&gt;If a second argument is given, it will prepopulate the &lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.box_url&lt;/code&gt; setting in the created Vagrantfile.&lt;/p&gt;

&lt;h3 id=&quot;up&quot;&gt;Up&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant up [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command creates and configures guest machines according to your &lt;a href=&quot;https://www.vagrantup.com/docs/vagrantfile/&quot;&gt;Vagrantfile&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This is the single most important command in Vagrant, since it is how any Vagrant machine is created. Anyone using Vagrant must use this command on a day-to-day basis.&lt;/p&gt;

&lt;h3 id=&quot;ssh&quot;&gt;Ssh&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant ssh [name&lt;/td&gt;
      &lt;td&gt;id] [‚Äì extra_ssh_args]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This will SSH into a running Vagrant machine and give you access to a shell.&lt;/p&gt;

&lt;p&gt;On a simple vagrant project, the instance created will be named default.&lt;/p&gt;

&lt;p&gt;Vagrant will ssh into this instance without the instance name.&lt;/p&gt;

&lt;h3 id=&quot;box-list&quot;&gt;Box list&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant box list&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This command lists all the boxes that are installed into Vagrant.&lt;/p&gt;

&lt;h3 id=&quot;box-remove&quot;&gt;Box remove&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant box remove NAME&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This command removes a box from Vagrant that matches the given name.&lt;/p&gt;

&lt;p&gt;If a box has multiple providers, the exact provider must be specified with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provider&lt;/code&gt; flag. If a box has multiple versions, you can select what versions to delete with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--box-version&lt;/code&gt; flag or remove all versions with the &lt;code class=&quot;highlighter-rouge&quot;&gt;--all&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;destroy&quot;&gt;Destroy&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant destroy [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command stops the running machine Vagrant is managing and destroys all resources that were created during the machine creation process. After running this command, your computer should be left at a clean state, as if you never created the guest machine in the first place.&lt;/p&gt;

&lt;p&gt;For linux-based guests, Vagrant uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command to gracefully terminate the machine. Due to the varying nature of operating systems, the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command may exist at many different locations in the guest‚Äôs &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;. It is the guest machine‚Äôs responsibility to properly populate the &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; with directory containing the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command.&lt;/p&gt;

&lt;h3 id=&quot;halt&quot;&gt;Halt&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant halt [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This command shuts down the running machine Vagrant is managing.&lt;/p&gt;

&lt;p&gt;Vagrant will first attempt to gracefully shut down the machine by running the guest OS shutdown mechanism. If this fails, or if the &lt;code class=&quot;highlighter-rouge&quot;&gt;--force&lt;/code&gt; flag is specified, Vagrant will effectively just shut off power to the machine.&lt;/p&gt;

&lt;p&gt;For linux-based guests, Vagrant uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command to gracefully terminate the machine. Due to the varying nature of operating systems, the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command may exist at many different locations in the guest‚Äôs &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt;. It is the guest machine‚Äôs responsibility to properly populate the &lt;code class=&quot;highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; with directory containing the &lt;code class=&quot;highlighter-rouge&quot;&gt;shutdown&lt;/code&gt; command.&lt;/p&gt;

&lt;h3 id=&quot;package&quot;&gt;Package&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant package [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This packages a currently running &lt;em&gt;VirtualBox&lt;/em&gt; or &lt;em&gt;Hyper-V&lt;/em&gt; environment into a re-usable &lt;a href=&quot;https://www.vagrantup.com/docs/boxes.html&quot;&gt;box&lt;/a&gt;. This command can only be used with other &lt;a href=&quot;https://www.vagrantup.com/docs/providers/&quot;&gt;providers&lt;/a&gt; based on the provider implementation and if the provider supports it.&lt;/p&gt;

&lt;h3 id=&quot;plugin&quot;&gt;Plugin&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant plugin&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This is the command used to manage &lt;a href=&quot;https://www.vagrantup.com/docs/plugins/&quot;&gt;plugins&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The main functionality of this command is exposed via another level of subcommands:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-expunge&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;expunge&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-install&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;install&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-license&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;license&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-list&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-repair&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;repair&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-uninstall&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;uninstall&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/docs/cli/plugin.html#plugin-update&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;provision&quot;&gt;Provision&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Command: vagrant provision [vm-name]&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Runs any configured &lt;a href=&quot;https://www.vagrantup.com/docs/provisioning/&quot;&gt;provisioners&lt;/a&gt; against the running Vagrant managed machine.&lt;/p&gt;

&lt;p&gt;This command is a great way to quickly test any provisioners, and is especially useful for incremental development of shell scripts, Chef cookbooks, or Puppet modules. You can just make simple modifications to the provisioning scripts on your machine, run a &lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant provision&lt;/code&gt;, and check for the desired results. Rinse and repeat.&lt;/p&gt;

&lt;h3 id=&quot;reload&quot;&gt;Reload&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant reload [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The equivalent of running a &lt;a href=&quot;https://www.vagrantup.com/docs/cli/halt.html&quot;&gt;halt&lt;/a&gt; followed by an &lt;a href=&quot;https://www.vagrantup.com/docs/cli/up.html&quot;&gt;up&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This command is usually required for changes made in the Vagrantfile to take effect. After making any modifications to the Vagrantfile, a &lt;code class=&quot;highlighter-rouge&quot;&gt;reload&lt;/code&gt; should be called.&lt;/p&gt;

&lt;p&gt;The configured provisioners will not run again, by default. You can force the provisioners to re-run by specifying the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provision&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;resume&quot;&gt;Resume&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant resume [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This resumes a Vagrant managed machine that was previously suspended, perhaps with the &lt;a href=&quot;https://www.vagrantup.com/docs/cli/suspend.html&quot;&gt;suspend command&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The configured provisioners will not run again, by default. You can force the provisioners to re-run by specifying the &lt;code class=&quot;highlighter-rouge&quot;&gt;--provision&lt;/code&gt; flag.&lt;/p&gt;

&lt;h3 id=&quot;status&quot;&gt;Status&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant status [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This will tell you the state of the machines Vagrant is managing.&lt;/p&gt;

&lt;p&gt;It is quite easy, especially once you get comfortable with Vagrant, to forget whether your Vagrant machine is running, suspended, not created, etc. This command tells you the state of the underlying guest machine.&lt;/p&gt;

&lt;h3 id=&quot;suspend&quot;&gt;Suspend&lt;/h3&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;**Command: vagrant suspend [name&lt;/td&gt;
      &lt;td&gt;id]**&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This suspends the guest machine Vagrant is managing, rather than fully &lt;a href=&quot;https://www.vagrantup.com/docs/cli/halt.html&quot;&gt;shutting it down&lt;/a&gt; or &lt;a href=&quot;https://www.vagrantup.com/docs/cli/destroy.html&quot;&gt;destroying it&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A suspend effectively saves the &lt;em&gt;exact point-in-time state&lt;/em&gt; of the machine, so that when you &lt;a href=&quot;https://www.vagrantup.com/docs/cli/resume.html&quot;&gt;resume&lt;/a&gt; it later, it begins running immediately from that point, rather than doing a full boot.&lt;/p&gt;

&lt;p&gt;This generally requires extra disk space to store all the contents of the RAM within your guest machine, but the machine no longer consumes the RAM of your host machine or CPU cycles while it is suspended.&lt;/p&gt;

&lt;h2 id=&quot;vagrantfileÈÖçÁΩÆÊñá‰ª∂ËØ¶Ëß£&quot;&gt;VagrantfileÈÖçÁΩÆÊñá‰ª∂ËØ¶Ëß£&lt;/h2&gt;

&lt;p&gt;Âú®Êàë‰ª¨ÁöÑÂºÄÂèëÁõÆÂΩï‰∏ãÊúâ‰∏Ä‰∏™Êñá‰ª∂&lt;code class=&quot;highlighter-rouge&quot;&gt;Vagrantfile&lt;/code&gt;ÔºåÈáåÈù¢ÂåÖÂê´ÊúâÂ§ßÈáèÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºå‰∏ªË¶ÅÂåÖÊã¨‰∏â‰∏™ÊñπÈù¢ÁöÑÈÖçÁΩÆÔºåËôöÊãüÊú∫ÁöÑÈÖçÁΩÆ„ÄÅSSHÈÖçÁΩÆ„ÄÅVagrantÁöÑ‰∏Ä‰∫õÂü∫Á°ÄÈÖçÁΩÆ„ÄÇ&lt;/p&gt;

&lt;h3 id=&quot;boxËÆæÁΩÆ&quot;&gt;boxËÆæÁΩÆ&lt;/h3&gt;

&lt;p&gt;config.vm.box = ‚Äúbase‚Äù&lt;/p&gt;

&lt;p&gt;‰∏äÈù¢ËøôÈÖçÁΩÆÂ±ïÁ§∫‰∫ÜVagrantË¶ÅÂéªÂêØÁî®ÈÇ£‰∏™box‰Ωú‰∏∫Á≥ªÁªüÔºå‰πüÂ∞±ÊòØ‰∏äÈù¢Êàë‰ª¨ËæìÂÖ•&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant init BoxÂêçÁß∞&lt;/code&gt;Êó∂ÊâÄÊåáÂÆöÁöÑboxÔºåÂ¶ÇÊûúÊ≤íÊúâËæìÂÖ•boxÂêçÁß∞ÁöÑË©±ÔºåÈÇ£‰πàÈªòËÆ§Â∞±ÊòØ&lt;code class=&quot;highlighter-rouge&quot;&gt;base&lt;/code&gt;ÔºåVirtualBoxÊèê‰æõ‰∫ÜVBoxManageËøô‰∏™ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÔºåÂèØ‰ª•ËÆ©Êàë‰ª¨ËÆæÂÆöVMÔºåÁî®&lt;code class=&quot;highlighter-rouge&quot;&gt;modifyvm&lt;/code&gt;Ëøô‰∏™ÂëΩ‰ª§ËÆ©Êàë‰ª¨ÂèØ‰ª•ËÆæÂÆöVMÁöÑÂêçÁß∞ÂíåÂÜÖÂ≠òÂ§ßÂ∞èÁ≠âÁ≠âÔºåËøôÈáåËØ¥ÁöÑÂêçÁß∞ÊåáÁöÑÊòØÂú®VirtualBox‰∏≠ÊòæÁ§∫ÁöÑÂêçÁß∞ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âú®Vagrantfile‰∏≠ËøõË°åËÆæÂÆöÔºåÂú®Vagrantfile‰∏≠Âä†ÂÖ•Â¶Ç‰∏ãËøôË°åÂ∞±ÂèØ‰ª•ËÆæÂÆö‰∫ÜÔºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.provider &quot;virtualbox&quot; do |v|
  v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;astaxie&quot;, &quot;--memory&quot;, &quot;512&quot;]
end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ËøôË°åËÆæÁΩÆÁöÑÊÑèÊÄùÊòØË∞ÉÁî®VBoxManageÁöÑ&lt;code class=&quot;highlighter-rouge&quot;&gt;modifyvm&lt;/code&gt;ÁöÑÂëΩ‰ª§ÔºåËÆæÁΩÆVMÁöÑÂêçÁß∞‰∏∫&lt;code class=&quot;highlighter-rouge&quot;&gt;astaxie&lt;/code&gt;ÔºåÂÜÖÂ≠ò‰∏∫512MB„ÄÇ‰Ω†ÂèØ‰ª•Á±ª‰ººÁöÑÈÄöËøáÂÆöÂà∂ÂÖ∂ÂÆÉVMÂ±ûÊÄßÊù•ÂÆöÂà∂‰Ω†Ëá™Â∑±ÁöÑVM„ÄÇ&lt;/p&gt;

&lt;h3 id=&quot;ÁΩëÁªúËÆæÁΩÆ&quot;&gt;ÁΩëÁªúËÆæÁΩÆ&lt;/h3&gt;

&lt;p&gt;VagrantÊúâ‰∏§ÁßçÊñπÂºèÊù•ËøõË°åÁΩëÁªúËøûÊé•Ôºå‰∏ÄÁßçÊòØhost-only(‰∏ªÊú∫Ê®°Âºè)ÔºåÊÑèÊÄùÊòØ‰∏ªÊú∫ÂíåËôöÊãüÊú∫‰πãÈó¥ÁöÑÁΩëÁªú‰∫íËÆøÔºåËÄå‰∏çÊòØËôöÊãüÊú∫ËÆøÈóÆinternetÁöÑÊäÄÊúØÔºå‰πüÂ∞±ÊòØÂè™Êúâ‰Ω†‰∏ÄÂÄã‰∫∫Ëá™HighÔºåÂÖ∂‰ªñ‰∫∫ËÆøÈóÆ‰∏çÂà∞‰Ω†ÁöÑËôöÊãüÊú∫„ÄÇÂè¶‰∏ÄÁßçÊòØBridge(Ê°•Êé•Ê®°Âºè)ÔºåËØ•Ê®°Âºè‰∏ãÁöÑVMÂ∞±ÂÉèÊòØÂ±ÄÂüüÁΩë‰∏≠ÁöÑ‰∏ÄÂè∞Áã¨Á´ãÁöÑ‰∏ªÊú∫Ôºå‰πüÂ∞±ÊòØËØ¥ÈúÄË¶ÅVMÂà∞‰Ω†ÁöÑË∑ØÁî±Âô®Ë¶ÅIPÔºåËøôÊ†∑ÁöÑËØùÂ±ÄÂüüÁΩëÈáåÈù¢ÂÖ∂‰ªñÊú∫Âô®Â∞±ÂèØ‰ª•ËÆøÈóÆÂÆÉ‰∫ÜÔºå‰∏ÄËà¨Êàë‰ª¨ËÆæÁΩÆËôöÊãüÊú∫ÈÉΩÊòØËá™high‰∏∫‰∏ªÔºåÊâÄ‰ª•Êàë‰ª¨ÁöÑËÆæÁΩÆ‰∏ÄËà¨Â¶Ç‰∏ãÔºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.network :private_network, ip: &quot;11.11.11.11&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ËøôÈáåÊàë‰ª¨ËôöÊãüÊú∫ËÆæÁΩÆ‰∏∫hostonlyÔºåÂπ∂‰∏îÊåáÂÆö‰∫Ü‰∏Ä‰∏™IPÔºåIPÁöÑËØùÂª∫ËÆÆÊúÄÂ•Ω‰∏çË¶ÅÁî®&lt;code class=&quot;highlighter-rouge&quot;&gt;192.168..&lt;/code&gt;Ëøô‰∏™ÁΩëÊÆµÔºåÂõ†‰∏∫ÂæàÊúâÂèØËÉΩÂíå‰Ω†Â±ÄÂüüÁΩëÈáåÈù¢ÁöÑÂÖ∂ÂÆÉÊú∫Âô®IPÂÜ≤Á™ÅÔºåÊâÄ‰ª•ÊúÄÂ•Ω‰ΩøÁî®Á±ª‰ºº&lt;code class=&quot;highlighter-rouge&quot;&gt;11.11..&lt;/code&gt;ËøôÊ†∑ÁöÑIPÂú∞ÂùÄ„ÄÇ&lt;/p&gt;

&lt;h3 id=&quot;hostnameËÆæÁΩÆ&quot;&gt;hostnameËÆæÁΩÆ&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;ÁöÑËÆæÁΩÆÈùûÂ∏∏ÁÆÄÂçïÔºåVagrantfile‰∏≠Âä†ÂÖ•‰∏ãÈù¢ËøôË°åÂ∞±ÂèØ‰ª•‰∫ÜÔºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.hostname = &quot;go-app&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ËÆæÁΩÆ&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;ÈùûÂ∏∏ÈáçË¶ÅÔºåÂõ†‰∏∫ÂΩìÊàë‰ª¨ÊúâÂæàÂ§öÂè∞ËôöÊãüÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåÈÉΩÊòØ‰æùÈù†&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;‰æÜÂÅöËØÜÂà´ÁöÑÔºå‰æãÂ¶ÇPuppetÊàñÊòØChefÔºåÈÉΩÊòØÈÄöËøá&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;‰æÜÂÅöËØÜÂà´ÁöÑÔºåÊó¢ÁÑ∂ËÆæÁΩÆÈÇ£‰πàÁÆÄÂçïÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±Âà•ÂÅ∑ÊáíÔºåËÆæÁΩÆ‰∏Ä‰∏™„ÄÇ&lt;/p&gt;

&lt;h3 id=&quot;ÂêåÊ≠•ÁõÆÂΩï&quot;&gt;ÂêåÊ≠•ÁõÆÂΩï&lt;/h3&gt;

&lt;p&gt;Êàë‰ª¨‰∏äÈù¢‰ªãÁªçËøá&lt;code class=&quot;highlighter-rouge&quot;&gt;/vagrant&lt;/code&gt;ÁõÆÂΩïÈªòËÆ§Â∞±ÊòØÂΩìÂâçÁöÑÂºÄÂèëÁõÆÂΩïÔºåËøôÊòØÂú®ËôöÊãüÊú∫ÂºÄÂêØÁöÑÊó∂ÂÄôÈªòËÆ§ÊåÇËΩΩÂêåÊ≠•ÁöÑ„ÄÇÊàë‰ª¨ËøòÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÊù•ËÆæÁΩÆÈ¢ùÂ§ñÁöÑÂêåÊ≠•ÁõÆÂΩïÔºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;config.vm.synced_folder  &quot;/Users/astaxie/data&quot;, &quot;/vagrant_data&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;‰∏äÈù¢Ëøô‰∏™ËÆæÂÆöÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏ªÊú∫ÁöÑÁõÆÂΩïÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØËôöÊãüÊú∫ÊåÇËΩΩÁöÑÁõÆÂΩï&lt;/p&gt;

&lt;h3 id=&quot;Á´ØÂè£ËΩ¨Âèë&quot;&gt;Á´ØÂè£ËΩ¨Âèë&lt;/h3&gt;

&lt;p&gt;config.vm.network :forwarded_port, guest: 80, host: 8080&lt;/p&gt;

&lt;p&gt;‰∏äÈù¢ËøôÂè•ÈÖçÁΩÆÂèØÂéâÂÆ≥‰∫ÜÔºåËøô‰∏ÄË°åÁöÑÊÑèÊÄùÊòØÊääÂØπhostÊú∫Âô®‰∏ä8080Á´ØÂè£ÁöÑËÆøÈóÆËØ∑Ê±ÇforwardÂà∞ËôöÊãüÊú∫ÁöÑ80Á´ØÂè£ÁöÑÊúçÂä°‰∏äÔºå‰æãÂ¶Ç‰Ω†Âú®‰Ω†ÁöÑËôöÊãüÊú∫‰∏ä‰ΩøÁî®nginxË∑ë‰∫Ü‰∏Ä‰∏™GoÂ∫îÁî®ÔºåÈÇ£‰πà‰Ω†Âú®hostÊú∫Âô®‰∏äÁöÑÊµèËßàÂô®‰∏≠ÊâìÂºÄ&lt;code class=&quot;highlighter-rouge&quot;&gt;http://localhost:8080&lt;/code&gt;Êó∂ÔºåVagrantÂ∞±‰ºöÊääËøô‰∏™ËØ∑Ê±ÇËΩ¨ÂèëÂà∞VMÈáåÈù¢Ë∑ëÂú®80Á´ØÂè£ÁöÑnginxÊúçÂä°‰∏äÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáËøô‰∏™ËÆæÁΩÆÊù•Â∏ÆÂä©Êàë‰ª¨ÂéªËÆæÂÆöhostÂíåVM‰πãÈó¥ÔºåÊàñÊòØVMÂíåVM‰πãÈó¥ÁöÑ‰ø°ÊÅØ‰∫§‰∫í„ÄÇ&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;‰øÆÊîπÂÆåVagrantfileÁöÑÈÖçÁΩÆÂêéÔºåËÆ∞ÂæóË¶ÅÁî®&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant reload&lt;/code&gt;ÂëΩ‰ª§Êù•ÈáçÂêØVM‰πãÂêéÊâçËÉΩ‰ΩøÁî®VMÊõ¥Êñ∞ÂêéÁöÑÈÖçÁΩÆ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;Ê®°ÊãüÊâìÈÄ†Â§öÊú∫Âô®ÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªü&quot;&gt;Ê®°ÊãüÊâìÈÄ†Â§öÊú∫Âô®ÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªü&lt;/h2&gt;
&lt;p&gt;Â§öÊú∫Âô®ÂàÜÂ∏ÉÂºèÈõÜÁæ§Á≥ªÁªüÊ®°ÂºèÁâπÂà´ÈÄÇÂêà‰ª•‰∏ãÂá†Áßç‰∫∫Ôºö&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Âø´ÈÄüÂª∫Á´ã‰∫ßÂìÅÁΩëÁªúÁöÑÂ§öÊú∫Âô®ÁéØÂ¢ÉÔºå‰æãÂ¶ÇwebÊúçÂä°Âô®„ÄÅdbÊúçÂä°Âô®&lt;/li&gt;
  &lt;li&gt;Âª∫Á´ã‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºåÂ≠¶‰π†‰ªñ‰ª¨ÊòØÂ¶Ç‰Ωï‰∫§‰∫íÁöÑ&lt;/li&gt;
  &lt;li&gt;ÊµãËØïAPIÂíåÂÖ∂‰ªñÁªÑ‰ª∂ÁöÑÈÄö‰ø°&lt;/li&gt;
  &lt;li&gt;ÂÆπÁÅæÊ®°ÊãüÔºåÁΩëÁªúÊñ≠ÁΩë„ÄÅÊú∫Âô®Ê≠ªÊú∫„ÄÅËøûÊé•Ë∂ÖÊó∂Á≠âÊÉÖÂÜµ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;VagrantÊîØÊåÅÂçïÊú∫Ê®°ÊãüÂ§öÂè∞Êú∫Âô®ÔºåËÄå‰∏îÊîØÊåÅ‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂VagrntfileÂ∞±ÂèØ‰ª•Ë∑ëÂàÜÂ∏ÉÂºèÁ≥ªÁªü„ÄÇ&lt;/p&gt;

&lt;p&gt;Áé∞Âú®Êàë‰ª¨Êù•Âª∫Á´ãÂ§öÂè∞VMË∑ëËµ∑‰æÜÔºå‰∏¶‰∏îËÆ©‰ªñ‰ª¨‰πãÈó¥ËÉΩÂ§üÁõ∏ÈÄö‰ø°ÔºåÂÅáËÆæ‰∏ÄÂè∞ÊòØÂ∫îÁî®ÊúçÂä°Âô®„ÄÅ‰∏ÄÂè∞ÊòØDBÊúçÂä°Âô®ÔºåÈÇ£‰πàËøô‰∏™ÁªìÊûÑÂú®Vagrant‰∏≠ÈùûÂ∏∏ÁÆÄÂçïÔºåÂÖ∂ÂÆûÂíåÂçïÂè∞ÁöÑÈÖçÁΩÆÂ∑Æ‰∏çÂ§öÔºå‰Ω†Âè™ÈúÄË¶ÅÈÄöËøá&lt;code class=&quot;highlighter-rouge&quot;&gt;config.vm.define&lt;/code&gt;Êù•ÂÆö‰πâ‰∏çÂêåÁöÑËßíËâ≤Â∞±ÂèØ‰ª•‰∫ÜÔºåÁé∞Âú®Êàë‰ª¨ÊâìÂºÄÈÖçÁΩÆÊñá‰ª∂ËøõË°åÂ¶Ç‰∏ãËÆæÁΩÆÔºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Vagrant.configure(&quot;2&quot;) do |config|
  config.vm.define :web do |web|
    web.vm.provider &quot;virtualbox&quot; do |v|
          v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;web&quot;, &quot;--memory&quot;, &quot;512&quot;]
    end
    web.vm.box = &quot;base&quot;
    web.vm.hostname = &quot;web&quot;
    web.vm.network :private_network, ip: &quot;11.11.1.1&quot;
  end

  config.vm.define :db do |db|
    db.vm.provider &quot;virtualbox&quot; do |v|
          v.customize [&quot;modifyvm&quot;, :id, &quot;--name&quot;, &quot;db&quot;, &quot;--memory&quot;, &quot;512&quot;]
    end
    db.vm.box = &quot;base&quot;
    db.vm.hostname = &quot;db&quot;
    db.vm.network :private_network, ip: &quot;11.11.1.2&quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ËøôÈáåÁöÑËÆæÁΩÆÂíåÂâçÈù¢Êàë‰ª¨ÂçïÊú∫ËÆæÁΩÆÈÖçÁΩÆÁ±ª‰ººÔºåÂè™ÊòØÊàë‰ª¨‰ΩøÁî®‰∫Ü&lt;code class=&quot;highlighter-rouge&quot;&gt;:web&lt;/code&gt;‰ª•Âèä&lt;code class=&quot;highlighter-rouge&quot;&gt;:db&lt;/code&gt;ÂàÜÂà•ÂÅö‰∫Ü‰∏§‰∏™VMÁöÑËÆæÁΩÆÔºåÂπ∂‰∏îÁªôÊØè‰∏™VMËÆæÁΩÆ‰∫Ü‰∏çÂêåÁöÑ&lt;code class=&quot;highlighter-rouge&quot;&gt;hostname&lt;/code&gt;ÂíåIPÔºåËÆæÁΩÆÂ•Ω‰πãÂêéÂÜç‰ΩøÁî®&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant up&lt;/code&gt;Â∞ÜËôöÊãüÊú∫Ë∑ëËµ∑Êù•Ôºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant up
Bringing machine 'web' up with 'virtualbox' provider...
Bringing machine 'db' up with 'virtualbox' provider...
[web] Setting the name of the VM...
[web] Clearing any previously set forwarded ports...
[web] Creating shared folders metadata...
[web] Clearing any previously set network interfaces...
[web] Preparing network interfaces based on configuration...
[web] Forwarding ports...
[web] -- 22 =&amp;gt; 2222 (adapter 1)
[web] Running any VM customizations...
[web] Booting VM...
[web] Waiting for VM to boot. This can take a few minutes.
[web] VM booted and ready for use!
[web] Setting hostname...
[web] Configuring and enabling network interfaces...
[web] Mounting shared folders...
[web] -- /vagrant
[db] Setting the name of the VM...
[db] Clearing any previously set forwarded ports...
[db] Fixed port collision for 22 =&amp;gt; 2222. Now on port 2200.
[db] Creating shared folders metadata...
[db] Clearing any previously set network interfaces...
[db] Preparing network interfaces based on configuration...
[db] Forwarding ports...
[db] -- 22 =&amp;gt; 2200 (adapter 1)
[db] Running any VM customizations...
[db] Booting VM...
[db] Waiting for VM to boot. This can take a few minutes.
[db] VM booted and ready for use!
[db] Setting hostname...
[db] Configuring and enabling network interfaces...
[db] Mounting shared folders...
[db] -- /vagrant
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ÁúãÂà∞‰∏äÈù¢ÁöÑ‰ø°ÊÅØËæìÂá∫ÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøá&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant ssh&lt;/code&gt;ÁôªÂΩïËôöÊãüÊú∫‰∫ÜÔºå‰ΩÜÊòØËøôÊ¨°Âíå‰∏äÊ¨°‰ΩøÁî®ÁöÑ‰∏ç‰∏ÄÊ†∑‰∫ÜÔºåËøôÊ¨°Êàë‰ª¨ÈúÄË¶ÅÊåáÂÆöÁõ∏Â∫îÁöÑËßíËâ≤ÔºåÁî®Êù•ÂëäËØâssh‰Ω†ÊúüÊúõËøûÊé•ÁöÑÊòØÂì™‰∏ÄÂè∞Ôºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant ssh web
vagrant@web:~$

$ vagrant ssh db
vagrant@db:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ÊòØ‰∏çÊòØÂæàÈÖ∑ÔºÅÁé∞Âú®Êé•‰∏ãÊù•Êàë‰ª¨ÂÜçÊù•È™åËØÅ‰∏Ä‰∏ãËôöÊãüÊú∫‰πãÈó¥ÁöÑÈÄö‰ø°ÔºåËÆ©Êàë‰ª¨ÂÖà‰ΩøÁî®sshÁôªÂΩïwebËôöÊãüÊú∫ÔºåÁÑ∂ÂêéÂú®webËôöÊãüÊú∫‰∏ä‰ΩøÁî®sshÁôªÂΩïdbËôöÊãüÊú∫(ÈªòËÆ§ÂØÜÁ†ÅÊòØ&lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant&lt;/code&gt;)Ôºö&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ vagrant ssh web
Linux web 2.6.32-38-server #83-Ubuntu SMP Wed Jan 4 11:26:59 UTC 2012 x86_64 GNU/Linux
Ubuntu 10.04.4 LTS

Welcome to the Ubuntu Server!
 * Documentation:  http://www.ubuntu.com/server/doc
New release 'precise' available.
Run 'do-release-upgrade' to upgrade to it.

Welcome to your Vagrant-built virtual machine.
Last login: Thu Aug  8 18:55:44 2013 from 10.0.2.2
vagrant@web:~$ ssh 11.11.1.2
The authenticity of host '11.11.1.2 (11.11.1.2)' can't be established.
RSA key fingerprint is e7:8f:07:57:69:08:6e:fa:82:bc:1c:f6:53:3f:12:9e.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '11.11.1.2' (RSA) to the list of known hosts.
vagrant@11.11.1.2's password:
Linux db 2.6.32-38-server #83-Ubuntu SMP Wed Jan 4 11:26:59 UTC 2012 x86_64 GNU/Linux
Ubuntu 10.04.4 LTS

Welcome to the Ubuntu Server!
 * Documentation:  http://www.ubuntu.com/server/doc
New release 'precise' available.
Run 'do-release-upgrade' to upgrade to it.

Welcome to your Vagrant-built virtual machine.
Last login: Thu Aug  8 18:58:50 2013 from 10.0.2.2
vagrant@db:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;ÂèÇËÄÉ&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.2.md&quot;&gt;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.2.md&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.3.md&quot;&gt;https://github.com/astaxie/go-best-practice/blob/master/ebook/zh/01.3.md&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">PHP‰∏≠tempnamÂáΩÊï∞dirÂèÇÊï∞‰∏çÂèØËÆøÈóÆÂç¥ÂèñÁ≥ªÁªütmpÁõÆÂΩï</title><link href="/2018/05/07/tempnam/" rel="alternate" type="text/html" title="PHP‰∏≠tempnamÂáΩÊï∞dirÂèÇÊï∞‰∏çÂèØËÆøÈóÆÂç¥ÂèñÁ≥ªÁªütmpÁõÆÂΩï" /><published>2018-05-07T00:00:00+08:00</published><updated>2018-05-07T00:00:00+08:00</updated><id>/2018/05/07/tempnam</id><content type="html" xml:base="/2018/05/07/tempnam/">&lt;p&gt;È°πÁõÆ‰∏≠ÈúÄË¶ÅÂ∞ÜLaTexÂÖ¨ÂºèËΩ¨‰∏∫ÂõæÁâá‰º†ÁªôÂâçÁ´Ø,ÂÆûÁé∞ÊñπÂºèÊòØÂà©Áî®execÂàÜÂà´Ë∞ÉÁî®Á≥ªÁªüÁöÑlatex/dvips/convertÂëΩ‰ª§,ÊúÄÁªàÁîüÊàêpngÊñá‰ª∂.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-PHP&quot;&gt;...

error_reporting(0); # not checking existence myself, that would be double.
if (chdir(&quot;tmp&quot;)===FALSE) { return '[directory access error, fix permissions]'; } #I should chech whether file creation is allowed to give a nice error for that problem case
error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); # TODO: set old value

$tfn = tempnam(getcwd(), 'PTX'); #file in tmp dir

#write temporary .tex file
if ( ($tex = fopen($tfn.'.tex', &quot;w&quot;))==FALSE) {
    return '[file access error] '.phplatex_cleantmp($tfn,$heredir);
}
fwrite($tex, $totex); 
fclose($tex);

# Run latex to create a .dvi.  Have it try to fix minor errors instead of breaking/pausing on them.
exec($path_to_latex.' --interaction=nonstopmode '.$tfn.'.tex');
if (!file_exists($tfn.&quot;.dvi&quot;)) {
    $log = file_get_contents($tfn.'.log'); #The log always exists, but now it's actually interesting since it'll contain an error
    return '[latex error, code follows]&amp;lt;pre&amp;gt;'.$totex.'&amp;lt;/pre&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;Log file:&amp;lt;/b&amp;gt;&amp;lt;pre&amp;gt;'.$log.'&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt; '.phplatex_cleantmp($tfn,$heredir);
}

...

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ÊüêÊ¨°Âá∫ÈóÆÈ¢ò,Êä•Èîô‰∏ÄÁõ¥ÈÉΩÊòØ‚Äô[latex error, code follows‚Ä¶]‚Äô,Âç≥ÊâßË°åÂÆålatexÂëΩ‰ª§ËΩ¨Êç¢texÁöÑ‰ª£Á†ÅÂêéÊ£ÄÊü•dviÊñá‰ª∂ÊòØÂê¶Â≠òÂú®,ÊâìÂç∞Âá∫execÊâßË°åÁöÑ‰ª£Á†Å,‚Äô/usr/bin/latex ‚Äìinteraction=nonstopmode /tmp/PTXBmQJee.tex‚Äô,‰∏äÊñáÊúâ chdir(‚Äútmp‚Äù) Â∑≤ÁªèÂàáÊç¢Âà∞ÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑtmpÁõÆÂΩï,ËÄåÊ≠§texÂç¥Âú®/tmp‰∏ã,ÊâìÂç∞ÂèëÁé∞getcwd()Á°ÆÂÆûÊòØÂΩìÂâçÁõÆÂΩïÁöÑtmp,WTF,Êêú‰∫Ü‰∏ãtempnam:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;tempnam&lt;/p&gt;

  &lt;p&gt;Description
    string tempnam ( string $dir , string $prefix )&lt;/p&gt;

  &lt;p&gt;Creates a file with a unique filename, with access permission set to 0600, in the specified directory. If the directory does not exist or is not writable, tempnam() may generate a file in the system‚Äôs temporary directory, and return the full path to that file, including its name.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;dir‰∏çÂ≠òÂú®ÊàñËÄÖ‰∏çÂèØÂÜôÁöÑÊó∂ÂÄô‰ºöÂèñÁ≥ªÁªüÁöÑ‰∏¥Êó∂ÁõÆÂΩï,ËÄåÂâçÈù¢ÁöÑchdirÁöÑÂà§Êñ≠Âπ∂Ê≤°ÊúâÁ°Æ‰øùtmpÂèØÂÜô.ÁªôtmpÂä†ÂÜôÊùÉÈôêÂç≥Ëß£ÂÜ≥ÈóÆÈ¢ò.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">ÊãüÈÖçÂè∞ÂºèÁîµËÑëÈÖçÁΩÆËÆ∞ÂΩï</title><link href="/2018/04/27/computer/" rel="alternate" type="text/html" title="ÊãüÈÖçÂè∞ÂºèÁîµËÑëÈÖçÁΩÆËÆ∞ÂΩï" /><published>2018-04-27T00:00:00+08:00</published><updated>2018-04-27T00:00:00+08:00</updated><id>/2018/04/27/computer</id><content type="html" xml:base="/2018/04/27/computer/">&lt;h2 id=&quot;‰∏ªÊùø&quot;&gt;‰∏ªÊùø&lt;/h2&gt;
&lt;p&gt;ÂçéÊìé B360M Pro4  &lt;!-- ¬•649 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;cpu&quot;&gt;CPU&lt;/h2&gt;
&lt;p&gt;i5 8400  &lt;!-- ¬•1024 --&gt;&lt;br /&gt;
CPUÈ£éÊâá ÂΩ©ËûçB81  &lt;!-- ¬•209 --&gt;&lt;br /&gt;
ÂØºÁÉ≠Á°ÖËÑÇ  ARCTIC  &lt;!-- ¬•29.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ÂÜÖÂ≠ò&quot;&gt;ÂÜÖÂ≠ò&lt;/h2&gt;
&lt;p&gt;Ëã±ÁùøËææ 8G  &lt;!-- ¬•579 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ÊòæÂç°&quot;&gt;ÊòæÂç°&lt;/h2&gt;
&lt;p&gt;ËìùÂÆùÁü≥ RX580  &lt;!-- ¬•2499 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;Á°¨Áõò&quot;&gt;Á°¨Áõò&lt;/h2&gt;
&lt;p&gt;‰∏úËäù Âõ∫ÊÄÅ 240G  &lt;!-- ¬•499(ÂéüÊúâ -¬•499) --&gt;&lt;br /&gt;
    Êú∫Ê¢∞ 4TB  &lt;!-- ¬•699 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ÁîµÊ∫ê&quot;&gt;ÁîµÊ∫ê&lt;/h2&gt;
&lt;p&gt;ËÆØÊôØ XTR550  &lt;!-- ¬•579(‰∫åÊâã -¬•290) --&gt;&lt;br /&gt;
&lt;!-- ÁîµÊ∫êÁ∫ø ¬•18.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;Êú∫ÁÆ±&quot;&gt;Êú∫ÁÆ±&lt;/h2&gt;
&lt;p&gt;‰πîÊÄù‰ºØ U4  &lt;!-- ¬•299 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ÊòæÁ§∫Âô®&quot;&gt;ÊòæÁ§∫Âô®&lt;/h2&gt;
&lt;p&gt;DELL P2718Q  &lt;!-- ¬•3999 --&gt;&lt;/p&gt;

&lt;!-- ÊÄªËÆ° ¬•11084 - ¬•789 = ¬• 10295 --&gt;

&lt;h2 id=&quot;ÂÖ∂‰ªñ&quot;&gt;ÂÖ∂‰ªñ&lt;/h2&gt;
&lt;p&gt;Ë∑ØÁî±Âô® ÂçéÁ°ïRT-AC1200  &lt;!-- ¬•199 --&gt;&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">LNMPÁéØÂ¢ÉÊê≠Âª∫(Ubuntu16.04.3+nginx+mysql5.7+php7.2)</title><link href="/2018/02/20/lnmp/" rel="alternate" type="text/html" title="LNMPÁéØÂ¢ÉÊê≠Âª∫(Ubuntu16.04.3+nginx+mysql5.7+php7.2)" /><published>2018-02-20T00:00:00+08:00</published><updated>2018-02-20T00:00:00+08:00</updated><id>/2018/02/20/lnmp</id><content type="html" xml:base="/2018/02/20/lnmp/">&lt;h2 id=&quot;ÂÆâË£Ö&quot;&gt;ÂÆâË£Ö&lt;/h2&gt;
&lt;p&gt;1.Êõ¥Êñ∞&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2.ÂÆâË£Önginx&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3.ÂÆâË£Ömysql5.7&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; mysql-server-5.7 mysql-client-5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4.ÂÆâË£Öphp7
aptÁõ¥Êé•ÂÆâË£Ö‰ºöÊä•ÈîôÔºåÈúÄÊ∑ªÂä†‰ªìÂ∫ì&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; software-properties-common
add-apt-repository ppa:ondrej/php

apt-get update
apt-cache search php7.2
apt-get install php7.2 php7.2-fpm ... php7.2-xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ÈÖçÁΩÆ&quot;&gt;ÈÖçÁΩÆ&lt;/h2&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">ÊÅ¢Â§ç‰∫ëÊï∞ÊçÆÂ∫ìMySQLÁöÑÂ§á‰ªΩÊñá‰ª∂Âà∞Ëá™Âª∫Êï∞ÊçÆÂ∫ìÈÅáÂà∞ÁöÑÊùÉÈôêÈóÆÈ¢ò</title><link href="/2017/12/11/mysql-trigger-privilege/" rel="alternate" type="text/html" title="ÊÅ¢Â§ç‰∫ëÊï∞ÊçÆÂ∫ìMySQLÁöÑÂ§á‰ªΩÊñá‰ª∂Âà∞Ëá™Âª∫Êï∞ÊçÆÂ∫ìÈÅáÂà∞ÁöÑÊùÉÈôêÈóÆÈ¢ò" /><published>2017-12-11T00:00:00+08:00</published><updated>2017-12-11T00:00:00+08:00</updated><id>/2017/12/11/mysql-trigger-privilege</id><content type="html" xml:base="/2017/12/11/mysql-trigger-privilege/">&lt;p&gt;ÊÅ¢Â§çËøáÁ®ãÂèÇËÄÉÈòøÈáåÁöÑÁöÑËøôÁØáÂ∏ÆÂä©ÊñáÊ°£ ‚Äú&lt;a href=&quot;https://help.aliyun.com/knowledge_detail/41817.html&quot;&gt;ÊÅ¢Â§ç‰∫ëÊï∞ÊçÆÂ∫ìMySQLÁöÑÂ§á‰ªΩÊñá‰ª∂Âà∞Ëá™Âª∫Êï∞ÊçÆÂ∫ì&lt;/a&gt;‚Äù&lt;/p&gt;

&lt;p&gt;ÂêéÊù•‰ΩøÁî®Ê≠§Ëá™Âª∫Êï∞ÊçÆÂ∫ìËøáÁ®ã‰∏≠ÈÅáÂà∞ÊüêÂá†Âº†Ë°®ÈÉΩÂá∫Áé∞Â¶Ç‰∏ãÊä•Èîô&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-mysql&quot;&gt;The user specified as a definer ('user_xxx'@'') does not exist
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ËÄåÊ≠§userÊ†πÊú¨‰∏çÂú®Ëá™Âª∫Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂà†UserÈáçÊñ∞grant‰πüÊó†ÊûúÔºåGoogleÂèëÁé∞Á±ª‰ººÊÉÖÂÜµÁöÑÊòØËßÜÂõæÁöÑÊùÉÈôêÈóÆÈ¢òÔºåÁÑ∂ÂêéÂèëÁé∞Âá†Âº†Ë°®ÂÖ±ÂêåÁÇπÈÉΩÊòØÊúâtriggerÔºåÊü•triggerÁöÑdefinerÂ∞±ÊòØÊ≠§userÔºåÈáçÂª∫triggerËß£ÂÜ≥.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">Mac‰∏ãbrewÂÆâË£ÖMySQLÂêé‰∏çÁü•ÈÅìÂØÜÁ†ÅÔºåÊó†Ê≥ïÁôªÈôÜ</title><link href="/2017/09/07/mac-mysql-pwd/" rel="alternate" type="text/html" title="Mac‰∏ãbrewÂÆâË£ÖMySQLÂêé‰∏çÁü•ÈÅìÂØÜÁ†ÅÔºåÊó†Ê≥ïÁôªÈôÜ" /><published>2017-09-07T00:00:00+08:00</published><updated>2017-09-07T00:00:00+08:00</updated><id>/2017/09/07/mac-mysql-pwd</id><content type="html" xml:base="/2017/09/07/mac-mysql-pwd/">&lt;ul&gt;
  &lt;li&gt;ÂÖ≥Èó≠MysqlÊúçÂä°
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services stop mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;ÂºÄÂêØÊúçÂä°(Ë∑≥ËøáÈ™åËØÅ)
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ mysqld_safe --skip-grant-tables
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Êó†ÂØÜÁ†ÅÁôªÂΩï
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-uroot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ËÆæÁΩÆÂØÜÁ†Å&lt;/p&gt;

    &lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PASSWORD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'112358'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'root'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;FLUSH&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;ÂºÄÂêØMySQLÊúçÂä°ÔºåÂç≥ÂèØÁî®Êñ∞ÂØÜÁ†ÅÁôªÂΩï
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services start mysql
  $ mysql -uroot -p112358
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">sshÂÖçÂØÜÁôªÂΩï</title><link href="/2017/08/24/ssh-by-key/" rel="alternate" type="text/html" title="sshÂÖçÂØÜÁôªÂΩï" /><published>2017-08-24T00:00:00+08:00</published><updated>2017-08-24T00:00:00+08:00</updated><id>/2017/08/24/ssh-by-key</id><content type="html" xml:base="/2017/08/24/ssh-by-key/">&lt;p&gt;1) mkdir -p ~/.ssh/ecs&lt;/p&gt;

&lt;p&gt;2) ssh-keygen -t rsa -b 4096 -C ‚Äúxoinstein.com‚Äù -f ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;3) ssh-copy-id -i ~/.ssh/ecs/xoinstein.com -p 22 root@xoinstein.com&lt;/p&gt;

&lt;p&gt;4) ssh-add -K ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;5) vi ~/.ssh/config Ê∑ªÂä†‰ª•‰∏ã‰ª£Á†ÅÔºö&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Host xoinstein.com

    AddKeysToAgent yes

    UseKeychain yes

    IdentityFile ~/.ssh/ecs/xoinstein.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;6) alias ssh-xo=‚Äôssh -p 22 root@xoinstein.com‚Äô Ê∑ªÂä†Âà∞~/.bashrc Êàñ ~/.profile&lt;/p&gt;

&lt;p&gt;7) ssh-xoÁôªÈôÜÊúçÂä°Âô®&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry></feed>