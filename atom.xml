<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.4">Jekyll</generator><link href="/atom.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2019-02-28T16:44:39+08:00</updated><id>/atom.xml</id><title type="html">Xoinstein</title><subtitle>ğŸ’</subtitle><author><name>xoinstein</name></author><entry><title type="html">PHPä¸­tempnamå‡½æ•°dirå‚æ•°ä¸å¯è®¿é—®å´å–ç³»ç»Ÿtmpç›®å½•</title><link href="/2018/05/07/tempnam/" rel="alternate" type="text/html" title="PHPä¸­tempnamå‡½æ•°dirå‚æ•°ä¸å¯è®¿é—®å´å–ç³»ç»Ÿtmpç›®å½•" /><published>2018-05-07T00:00:00+08:00</published><updated>2018-05-07T00:00:00+08:00</updated><id>/2018/05/07/tempnam</id><content type="html" xml:base="/2018/05/07/tempnam/">&lt;p&gt;é¡¹ç›®ä¸­éœ€è¦å°†LaTexå…¬å¼è½¬ä¸ºå›¾ç‰‡ä¼ ç»™å‰ç«¯,å®ç°æ–¹å¼æ˜¯åˆ©ç”¨execåˆ†åˆ«è°ƒç”¨ç³»ç»Ÿçš„latex/dvips/convertå‘½ä»¤,æœ€ç»ˆç”Ÿæˆpngæ–‡ä»¶.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-PHP&quot;&gt;...

error_reporting(0); # not checking existence myself, that would be double.
if (chdir(&quot;tmp&quot;)===FALSE) { return '[directory access error, fix permissions]'; } #I should chech whether file creation is allowed to give a nice error for that problem case
error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); # TODO: set old value

$tfn = tempnam(getcwd(), 'PTX'); #file in tmp dir

#write temporary .tex file
if ( ($tex = fopen($tfn.'.tex', &quot;w&quot;))==FALSE) {
    return '[file access error] '.phplatex_cleantmp($tfn,$heredir);
}
fwrite($tex, $totex); 
fclose($tex);

# Run latex to create a .dvi.  Have it try to fix minor errors instead of breaking/pausing on them.
exec($path_to_latex.' --interaction=nonstopmode '.$tfn.'.tex');
if (!file_exists($tfn.&quot;.dvi&quot;)) {
    $log = file_get_contents($tfn.'.log'); #The log always exists, but now it's actually interesting since it'll contain an error
    return '[latex error, code follows]&amp;lt;pre&amp;gt;'.$totex.'&amp;lt;/pre&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;Log file:&amp;lt;/b&amp;gt;&amp;lt;pre&amp;gt;'.$log.'&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt; '.phplatex_cleantmp($tfn,$heredir);
}

...

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸæ¬¡å‡ºé—®é¢˜,æŠ¥é”™ä¸€ç›´éƒ½æ˜¯â€™[latex error, code followsâ€¦]â€™,å³æ‰§è¡Œå®Œlatexå‘½ä»¤è½¬æ¢texçš„ä»£ç åæ£€æŸ¥dviæ–‡ä»¶æ˜¯å¦å­˜åœ¨,æ‰“å°å‡ºexecæ‰§è¡Œçš„ä»£ç ,â€™/usr/bin/latex â€“interaction=nonstopmode /tmp/PTXBmQJee.texâ€™,ä¸Šæ–‡æœ‰ chdir(â€œtmpâ€) å·²ç»åˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹çš„tmpç›®å½•,è€Œæ­¤texå´åœ¨/tmpä¸‹,æ‰“å°å‘ç°getcwd()ç¡®å®æ˜¯å½“å‰ç›®å½•çš„tmp,WTF,æœäº†ä¸‹tempnam:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;tempnam&lt;/p&gt;

  &lt;p&gt;Description
    string tempnam ( string $dir , string $prefix )&lt;/p&gt;

  &lt;p&gt;Creates a file with a unique filename, with access permission set to 0600, in the specified directory. If the directory does not exist or is not writable, tempnam() may generate a file in the systemâ€™s temporary directory, and return the full path to that file, including its name.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;dirä¸å­˜åœ¨æˆ–è€…ä¸å¯å†™çš„æ—¶å€™ä¼šå–ç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•,è€Œå‰é¢çš„chdirçš„åˆ¤æ–­å¹¶æ²¡æœ‰ç¡®ä¿tmpå¯å†™.ç»™tmpåŠ å†™æƒé™å³è§£å†³é—®é¢˜.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">æ‹Ÿé…å°å¼ç”µè„‘é…ç½®è®°å½•</title><link href="/2018/04/27/computer/" rel="alternate" type="text/html" title="æ‹Ÿé…å°å¼ç”µè„‘é…ç½®è®°å½•" /><published>2018-04-27T00:00:00+08:00</published><updated>2018-04-27T00:00:00+08:00</updated><id>/2018/04/27/computer</id><content type="html" xml:base="/2018/04/27/computer/">&lt;h2 id=&quot;ä¸»æ¿&quot;&gt;ä¸»æ¿&lt;/h2&gt;
&lt;p&gt;åæ“ B360M Pro4  &lt;!-- Â¥649 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;cpu&quot;&gt;CPU&lt;/h2&gt;
&lt;p&gt;i5 8400  &lt;!-- Â¥1024 --&gt;&lt;br /&gt;
CPUé£æ‰‡ å½©èB81  &lt;!-- Â¥209 --&gt;&lt;br /&gt;
å¯¼çƒ­ç¡…è„‚  ARCTIC  &lt;!-- Â¥29.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;å†…å­˜&quot;&gt;å†…å­˜&lt;/h2&gt;
&lt;p&gt;è‹±ç¿è¾¾ 8G  &lt;!-- Â¥579 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ˜¾å¡&quot;&gt;æ˜¾å¡&lt;/h2&gt;
&lt;p&gt;è“å®çŸ³ RX580  &lt;!-- Â¥2499 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç¡¬ç›˜&quot;&gt;ç¡¬ç›˜&lt;/h2&gt;
&lt;p&gt;ä¸œèŠ å›ºæ€ 240G  &lt;!-- Â¥499(åŸæœ‰ -Â¥499) --&gt;&lt;br /&gt;
    æœºæ¢° 4TB  &lt;!-- Â¥699 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç”µæº&quot;&gt;ç”µæº&lt;/h2&gt;
&lt;p&gt;è®¯æ™¯ XTR550  &lt;!-- Â¥579(äºŒæ‰‹ -Â¥290) --&gt;&lt;br /&gt;
&lt;!-- ç”µæºçº¿ Â¥18.9 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æœºç®±&quot;&gt;æœºç®±&lt;/h2&gt;
&lt;p&gt;ä¹”æ€ä¼¯ U4  &lt;!-- Â¥299 --&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ˜¾ç¤ºå™¨&quot;&gt;æ˜¾ç¤ºå™¨&lt;/h2&gt;
&lt;p&gt;DELL P2718Q  &lt;!-- Â¥3999 --&gt;&lt;/p&gt;

&lt;!-- æ€»è®¡ Â¥11084 - Â¥789 = Â¥ 10295 --&gt;

&lt;h2 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h2&gt;
&lt;p&gt;è·¯ç”±å™¨ åç¡•RT-AC1200  &lt;!-- Â¥199 --&gt;&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">LNMPç¯å¢ƒæ­å»º(Ubuntu16.04.3+nginx+mysql5.7+php7.2)</title><link href="/2018/02/20/lnmp/" rel="alternate" type="text/html" title="LNMPç¯å¢ƒæ­å»º(Ubuntu16.04.3+nginx+mysql5.7+php7.2)" /><published>2018-02-20T00:00:00+08:00</published><updated>2018-02-20T00:00:00+08:00</updated><id>/2018/02/20/lnmp</id><content type="html" xml:base="/2018/02/20/lnmp/">&lt;h2 id=&quot;å®‰è£…&quot;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;1.æ›´æ–°&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2.å®‰è£…nginx&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3.å®‰è£…mysql5.7&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; mysql-server-5.7 mysql-client-5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4.å®‰è£…php7
aptç›´æ¥å®‰è£…ä¼šæŠ¥é”™ï¼Œéœ€æ·»åŠ ä»“åº“&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt-get install &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; software-properties-common
add-apt-repository ppa:ondrej/php

apt-get update
apt-cache search php7.2
apt-get install php7.2 php7.2-fpm ... php7.2-xml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;é…ç½®&quot;&gt;é…ç½®&lt;/h2&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“é‡åˆ°çš„æƒé™é—®é¢˜</title><link href="/2017/12/11/mysql-trigger-privilege/" rel="alternate" type="text/html" title="æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“é‡åˆ°çš„æƒé™é—®é¢˜" /><published>2017-12-11T00:00:00+08:00</published><updated>2017-12-11T00:00:00+08:00</updated><id>/2017/12/11/mysql-trigger-privilege</id><content type="html" xml:base="/2017/12/11/mysql-trigger-privilege/">&lt;p&gt;æ¢å¤è¿‡ç¨‹å‚è€ƒé˜¿é‡Œçš„çš„è¿™ç¯‡å¸®åŠ©æ–‡æ¡£ â€œ&lt;a href=&quot;https://help.aliyun.com/knowledge_detail/41817.html&quot;&gt;æ¢å¤äº‘æ•°æ®åº“MySQLçš„å¤‡ä»½æ–‡ä»¶åˆ°è‡ªå»ºæ•°æ®åº“&lt;/a&gt;â€&lt;/p&gt;

&lt;p&gt;åæ¥ä½¿ç”¨æ­¤è‡ªå»ºæ•°æ®åº“è¿‡ç¨‹ä¸­é‡åˆ°æŸå‡ å¼ è¡¨éƒ½å‡ºç°å¦‚ä¸‹æŠ¥é”™&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-mysql&quot;&gt;The user specified as a definer ('user_xxx'@'') does not exist
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è€Œæ­¤useræ ¹æœ¬ä¸åœ¨è‡ªå»ºæ•°æ®åº“ä¸­ï¼Œåˆ Useré‡æ–°grantä¹Ÿæ— æœï¼ŒGoogleå‘ç°ç±»ä¼¼æƒ…å†µçš„æ˜¯è§†å›¾çš„æƒé™é—®é¢˜ï¼Œç„¶åå‘ç°å‡ å¼ è¡¨å…±åŒç‚¹éƒ½æ˜¯æœ‰triggerï¼ŒæŸ¥triggerçš„definerå°±æ˜¯æ­¤userï¼Œé‡å»ºtriggerè§£å†³.&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">Macä¸‹brewå®‰è£…MySQLåä¸çŸ¥é“å¯†ç ï¼Œæ— æ³•ç™»é™†</title><link href="/2017/09/07/mac-mysql-pwd/" rel="alternate" type="text/html" title="Macä¸‹brewå®‰è£…MySQLåä¸çŸ¥é“å¯†ç ï¼Œæ— æ³•ç™»é™†" /><published>2017-09-07T00:00:00+08:00</published><updated>2017-09-07T00:00:00+08:00</updated><id>/2017/09/07/mac-mysql-pwd</id><content type="html" xml:base="/2017/09/07/mac-mysql-pwd/">&lt;ul&gt;
  &lt;li&gt;å…³é—­MysqlæœåŠ¡
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services stop mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;å¼€å¯æœåŠ¡(è·³è¿‡éªŒè¯)
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ mysqld_safe --skip-grant-tables
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;æ— å¯†ç ç™»å½•
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-uroot&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è®¾ç½®å¯†ç &lt;/p&gt;

    &lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authentication_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PASSWORD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'112358'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'root'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;FLUSH&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;å¼€å¯MySQLæœåŠ¡ï¼Œå³å¯ç”¨æ–°å¯†ç ç™»å½•
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  $ brew services start mysql
  $ mysql -uroot -p112358
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry><entry><title type="html">sshå…å¯†ç™»å½•</title><link href="/2017/08/24/ssh-by-key/" rel="alternate" type="text/html" title="sshå…å¯†ç™»å½•" /><published>2017-08-24T00:00:00+08:00</published><updated>2017-08-24T00:00:00+08:00</updated><id>/2017/08/24/ssh-by-key</id><content type="html" xml:base="/2017/08/24/ssh-by-key/">&lt;p&gt;1) mkdir -p ~/.ssh/ecs&lt;/p&gt;

&lt;p&gt;2) ssh-keygen -t rsa -b 4096 -C â€œxoinstein.comâ€ -f ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;3) ssh-copy-id -i ~/.ssh/ecs/xoinstein.com -p 22 root@xoinstein.com&lt;/p&gt;

&lt;p&gt;4) ssh-add -K ~/.ssh/ecs/xoinstein.com&lt;/p&gt;

&lt;p&gt;5) vi ~/.ssh/config æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; Host xoinstein.com

    AddKeysToAgent yes

    UseKeychain yes

    IdentityFile ~/.ssh/ecs/xoinstein.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;6) alias ssh-xo=â€™ssh -p 22 root@xoinstein.comâ€™ æ·»åŠ åˆ°~/.bashrc æˆ– ~/.profile&lt;/p&gt;

&lt;p&gt;7) ssh-xoç™»é™†æœåŠ¡å™¨&lt;/p&gt;</content><author><name>xoinstein</name></author><category term="blog" /></entry></feed>